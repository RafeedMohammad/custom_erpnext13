{%
	var report_columns = report.get_columns_for_print();
	report_columns = report_columns.filter(col => !col.hidden);

	if (report_columns.length > 90) {
		frappe.throw(__("Too many columns. Export the report and print it using a spreadsheet application."));
	}
%}
{% for(let j=0, k=data.length; j<k; j++) { %}
	<!-- var row = data[j]; -->
	{% var cou=1 %}
	{% for(let i=0, l=report_columns.length; i<l; i++) { %}

			{% att= cou%}
			{%cou ++%}
			

					
	{% } %}

    {% var d = data[j].posting_date.split('-') %}
    {% var e = data[j].date_of_joining.split('-') %}
    {% var f = data[j].last_date.split('-') %}
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px;
            font-size: 11px;
            text-align: left;
        }
        .pagebreak {
            clear: both;
            page-break-after: always;
        }
    </style>


<table>
    <tr style="font-weight: bold;">
        <td colspan="9"style="text-align: center;text-decoration: underline;">Final Settlement of Salary/Wages</td>
        <td colspan="2">Date: {{ d[2] }}/{{ d[1] }}/{{ d[0] }}</td>   
    </tr>
    <tr>
        <td>Name</td>
        <td>:</td>
        <td colspan="3">{{data[j].employee_name}}</td>
        <td>&nbsp;</td>
        <td>Join Date</td>
        <td>:</td>
        <td colspan="2">{{ e[2] }}/{{ e[1] }}/{{ e[0] }}</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>ID No</td>
        <td>:</td>
        <td colspan="3">{{data[j].employee}}</td>
        <td>&nbsp;</td>
        <td>Last Day</td>
        <td>:</td>
        <td colspan="2">{{ f[2] }}/{{ f[1] }}/{{ f[0] }}</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>Department/Section</td>
        <td>:</td>
        <td colspan="3">{{data[j].department}}</td>
        <td>&nbsp;</td>

        <td>Length of Service</td>
        <td>:</td>
        <td colspan="2">{{data[j].length_of_service}}</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>Position</td>
        <td>:</td>
        <td colspan="3">{{data[j].designation}}</td>
        <td>&nbsp;</td>

        <td>Reason</td>
        <td>:</td>
        <td colspan="2">{{data[j].reason}}</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td colspan="4">Salary/Wages </td>
        <td></td>
        <td colspan="6">&nbsp;</td>
    </tr>
    <tr>
        <td>Basic</td>
        <td>:</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td>{{data[j].basic}}</td>
        <td colspan="5">&nbsp;</td>
    </tr>
    <tr>
        <td>House Rent </td>
        <td>:</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td>{{data[j].house_rent}}</td>
        <td colspan="5">&nbsp;</td>
    </tr>
    <tr>
        <td>Medical Allowance</td>
        <td>:</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td>{{data[j].medical_allowance}}</td>
        <td colspan="5">&nbsp;</td>
    </tr>
    <tr style="font-weight: bold;">
        <td>Total Tk.</td>
        <td colspan="3">&nbsp;</td>
        <td>Tk.</td>
        <td>{{data[j].gross_salary}}</td>
        <td colspan="5">&nbsp;</td>
    </tr>

    <tr>
        <td colspan="4">Payment Entitled:</td>
        <td colspan="7">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="6">1) Wages/Salary (TILL {{data[j].last_date}})</td>
        <td colspan="2" style="text-align: right;">Total Days =</td>
        <td>{{data[j].wagessalary_pay_period_total_days}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].wagessalary_pay_period_total_days_payment}}</td>
        </tr>
    <tr>
        <td>2) Overtime</td>
        <td>&nbsp;</td>
        <td>{{data[j].overtime}}</td>
        <td>Hrs @</td>
        <td>{{data[j].overtime_rate}}</td>
        <td colspan="4">&nbsp;</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].overtime_payment}}</td>
        </tr>
    <tr>
        <td colspan="6">3) Leave(EL): As per BEPZA Law 2019, Section: 10</td>
        <td colspan="2" style="text-align: right;">Total Days=</td>
        <td>{{data[j].leave_el_total_days}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].leave_el_total_payment}}</td>
        </tr>
    <tr>
        <td colspan="7">4) P.F. Fund:</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].p_f_fund}}</td>
        </tr>
    <tr>
        <td colspan="6">5) Per Year Compensation :</td>
        <td colspan="2" style="text-align: right;">Total Years=</td>
        <td>{{data[j].total_years_for_per_year_compensation}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].total_per_year_compensation_amount}}</td>
        </tr>
    <tr>
        <td colspan="7">6) Arearr:</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].arrear}}</td>
        </tr>
    <tr>
        <td >7) Others: </td>
        <td colspan="4">(Lunch Tk {{data[j].lunch_rate}}X </td>
        <td>{{data[j].present_days}}</td>
        <td colspan="3">&nbsp;</td>
        <td>Tk. </td>
        <td style="text-align: center;">{{data[j].lunch_amount}}</td>
    </tr>
    <tr>
        <td >&nbsp;</td>
        <td colspan="4">(Trans Tk.{{data[j].travel_rate}}X </td>
        <td>{{data[j].present_days}}</td>
        <td colspan="3">&nbsp;</td>
        <td>Tk. </td>
        <td style="text-align: center;">{{data[j].travel_amount}}</td>
    </tr>
    <tr>
        <td >&nbsp;</td>
        <td colspan="4">(Night Tk.{{data[j].night_rate}}X </td>
        <td>{{data[j].night_days}}</td>
        <td colspan="3">&nbsp;</td>
        <td>Tk. </td>
        <td style="text-align: center;">{{data[j].night_amount}}</td>
    </tr>
    <tr style="font-weight: bold;">
        <td colspan="7">Sub Total Payment Entitled:</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].sub_total_payment_entitled}}</td>
    </tr>
    <tr>
        <td colspan="6">Notice pay (120 Day pay)</td>
        <td colspan="2" style="text-align: right;">Total Basic:</td>
        <td>{{data[j].number_of_basic_for_notice_pay_120_day_pay}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].total_notice_pay}}</td>
        </tr>
    <tr>
        <td colspan="6">Service Benefit (basic)<br>(As per EPZ Labor Act 2019)</td>
        <td colspan="2" style="text-align: right;">Total Basic:</td>
        <td>{{data[j].number_of_basic_for_service_benefit}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].total_service_benefit_pay}}</td>
        </tr>

    <tr style="font-weight: bold;">
        <td colspan="7">Gross Total Payment Entitiled</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].gross_total_payment_entitiled}}</td>
        </tr>

    <tr>
        <td colspan="7">Adjustment (Lay Off Calculation)</td>
        <td colspan="6">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="6">1) Lay Off: 50% of basic.</td>
        <td colspan="2" style="text-align: right;">Total Days=</td>
        <td>{{data[j].total_days_for_lay_off}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].lay_off_amount}}</td>
        </tr>
    <tr>
        <td colspan="6">2) Friday : 100% basic & Medical allowance</td>
        <td colspan="2" style="text-align: right;">Total Days=</td>
        <td>{{data[j].total_days_for_friday}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].amount_for_friday_100_basic_and_medical_allowance}}</td>
        </tr>
    <tr>
        <td colspan="6">3) Medical allow:</td>
        <td colspan="2" style="text-align: right;">Total Days=</td>
        <td>{{data[j].total_days_for_medical_allow}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].amount_for_friday_100_basic_and_medical_allowance}}</td>
        </tr>
    <tr>
        <td colspan="6">4) Absent/Without Pay Leave:</td>
        <td colspan="2" style="text-align: right;">Total Days=</td>
        <td>{{data[j].absentwithout_pay_leave_days}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].absentwithout_pay_leave_amount}}</td>
        </tr>
    <tr>
        <td colspan="6">5) Others: 30 Days basic Deduction (For Instant resign)</td>
        <td colspan="2" style="text-align: right;">Total Basic=</td>
        <td>{{data[j].total_basic_for_instant_resign}}</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].amount_for_instant_resign}}</td>
        </tr>
    <tr style="font-weight: bold;">
        <td colspan="7">Total Adjustment:</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].total_adjustment}}</td>
        </tr>

    <tr>
        <td colspan="7">Net Payment Entitled</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].net_payment_entitled}}</td>
        </tr>
    <tr>
        <td colspan="7">Less Provident Found By Cheque</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].less_provident_found_by_cheque}}</td>
        </tr>
    <tr style="font-weight: bold;">
        <td colspan="7">Balance Money Paid By Cash</td>
        <td colspan="2">&nbsp;</td>
        <td>Tk.</td>
        <td style="text-align: center;">{{data[j].balance_money_paid_by_cash}}</td>
        </tr>
    <tr>
        <td colspan="11">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="11">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="11">&nbsp;</td>
    </tr>

    <tr>
        <td colspan="1"style="text-align: center;">Prepared By <br>HR</td>
        <td colspan="1"style="text-align: center;">Checked by <br>AGM (HR & COMP.) </td>
        <td colspan="3"style="text-align: center;">Checked by <br>DGM (Admin)</td>
        <td colspan="2"style="text-align: center;">Checked by <br>CFO</td>
        <td colspan="2"style="text-align: center;">Approved by <br>CEO</td>
        <td colspan="2"style="text-align: center;">Received By <br></td>
    </tr>
    
</table>
{% if (j!=k-1) { %}
<div class="pagebreak"></div>
{% } %}
{% } %}
